<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IPO ê³µëª¨ê°€ í‰ê°€ | ValueLink</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }

        :root {
            --deep-green: #166534;
            --deep-blue: #1D4ED8;
            --amber: #F59E0B;
            --deep-blue-light: #3B82F6;
            --deep-blue-pale: #DBEAFE;
            --text-primary: #111827;
            --text-secondary: #374151;
            --text-muted: #6B7280;
            --bg-light: #F3F4F6;
            --white: #FFFFFF;
            --success: #10B981;
            --warning: #F59E0B;
            --error: #EF4444;
        }

        body {
            font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, sans-serif;
            background-color: var(--bg-light);
            color: var(--text-primary);
        }

        /* HEADER */
        header {
            background: var(--white);
            border-bottom: 1px solid #E5E7EB;
            padding: 0 40px;
            height: 72px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-left {
            display: flex;
            align-items: center;
            gap: 48px;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
            text-decoration: none;
        }

        .logo-symbol { width: 44px; height: 44px; }
        .logo-text { font-size: 24px; font-weight: 700; color: #1E3A5F; }

        .main-nav { display: flex; gap: 8px; }

        .nav-item {
            padding: 10px 20px;
            font-size: 15px;
            font-weight: 600;
            text-decoration: none;
            border-radius: 8px;
            transition: all 0.2s ease;
        }

        .nav-item { color: var(--text-secondary); }
        .nav-item:hover { background: var(--bg-light); }

        /* BREADCRUMB */
        .breadcrumb-container {
            background: var(--white);
            border-bottom: 1px solid var(--border);
            padding: 12px 40px;
        }

        .breadcrumb {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
            color: var(--text-muted);
            max-width: 1200px;
            margin: 0 auto;
        }

        .breadcrumb a {
            color: var(--deep-blue);
            text-decoration: none;
            transition: color 0.2s ease;
        }

        .breadcrumb a:hover {
            color: var(--deep-blue-light);
        }

        .breadcrumb span {
            color: var(--text-muted);
        }

        /* HERO */
        .hero {
            background: var(--deep-blue);
            padding: 48px 40px;
            text-align: center;
            color: var(--white);
        }

        .hero-badge {
            display: inline-block;
            background: rgba(255,255,255,0.2);
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 16px;
        }

        .hero h1 {
            font-size: 36px;
            font-weight: 700;
            margin-bottom: 12px;
        }

        .hero p {
            font-size: 16px;
            opacity: 0.9;
        }

        /* MAIN */
        .main-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px;
        }

        /* SECTION CARD */
        .section-card {
            background: var(--white);
            border-radius: 16px;
            padding: 32px;
            margin-bottom: 24px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }

        .section-title {
            font-size: 20px;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 24px;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .section-title .icon {
            width: 40px;
            height: 40px;
            background: var(--deep-blue-pale);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
        }

        /* FORM GRID */
        .form-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .form-group.full-width {
            grid-column: 1 / -1;
        }

        .form-label {
            font-size: 14px;
            font-weight: 600;
            color: var(--text-primary);
        }

        .form-hint {
            font-size: 12px;
            color: var(--text-muted);
        }

        .form-input {
            padding: 12px 16px;
            font-size: 14px;
            border: 1px solid #D1D5DB;
            border-radius: 8px;
            transition: border-color 0.2s;
        }

        .form-input:focus {
            outline: none;
            border-color: var(--deep-blue);
        }

        /* INFO BOX */
        .info-box {
            background: var(--deep-blue-pale);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 24px;
        }

        .info-box h4 {
            font-size: 14px;
            font-weight: 600;
            color: var(--deep-blue);
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .info-box p {
            font-size: 13px;
            color: #1E40AF;
            line-height: 1.6;
        }

        /* COMPARABLE TABLE */
        .comparable-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 14px;
            margin-top: 16px;
        }

        .comparable-table th,
        .comparable-table td {
            padding: 12px 16px;
            text-align: center;
            border-bottom: 1px solid #E5E7EB;
        }

        .comparable-table th {
            background: var(--bg-light);
            font-weight: 600;
            color: var(--text-secondary);
        }

        .comparable-table input {
            width: 100%;
            padding: 8px;
            font-size: 13px;
            border: 1px solid #D1D5DB;
            border-radius: 6px;
            text-align: right;
        }

        .comparable-table input:focus {
            outline: none;
            border-color: var(--deep-blue);
        }

        .btn-add {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 10px 20px;
            font-size: 14px;
            font-weight: 600;
            color: var(--deep-blue);
            background: var(--deep-blue-pale);
            border: none;
            border-radius: 8px;
            cursor: pointer;
            margin-top: 16px;
        }

        .btn-add:hover {
            background: var(--deep-blue);
            color: var(--white);
        }

        .btn-remove {
            padding: 6px 12px;
            font-size: 12px;
            color: var(--error);
            background: #FEE2E2;
            border: none;
            border-radius: 6px;
            cursor: pointer;
        }

        /* DISCOUNT SECTION */
        .discount-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 24px;
        }

        .discount-card {
            background: var(--bg-light);
            border-radius: 12px;
            padding: 24px;
            text-align: center;
        }

        .discount-label {
            font-size: 14px;
            color: var(--text-secondary);
            margin-bottom: 8px;
        }

        .discount-value {
            font-size: 32px;
            font-weight: 700;
            color: var(--text-primary);
        }

        .discount-hint {
            font-size: 12px;
            color: var(--text-muted);
            margin-top: 4px;
        }

        /* SLIDER */
        .slider-container {
            margin-top: 24px;
        }

        .slider-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 12px;
        }

        .slider-label span {
            font-size: 14px;
            font-weight: 600;
        }

        .slider-value {
            color: var(--deep-blue);
        }

        input[type="range"] {
            width: 100%;
            height: 8px;
            border-radius: 4px;
            background: #E5E7EB;
            outline: none;
            -webkit-appearance: none;
        }

        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: var(--deep-blue);
            cursor: pointer;
            border: 4px solid var(--white);
            box-shadow: 0 2px 6px rgba(0,0,0,0.2);
        }

        .slider-marks {
            display: flex;
            justify-content: space-between;
            margin-top: 8px;
            font-size: 12px;
            color: var(--text-muted);
        }

        /* PRICE RANGE */
        .price-range-section {
            background: linear-gradient(135deg, #F59E0B 0%, #D97706 100%);
            border-radius: 16px;
            padding: 32px;
            color: var(--white);
            margin-bottom: 24px;
        }

        .price-range-title {
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 24px;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .price-range-grid {
            display: grid;
            grid-template-columns: 1fr auto 1fr;
            gap: 24px;
            align-items: center;
        }

        .price-box {
            background: rgba(255,255,255,0.15);
            border-radius: 12px;
            padding: 24px;
            text-align: center;
        }

        .price-box-label {
            font-size: 14px;
            opacity: 0.9;
            margin-bottom: 8px;
        }

        .price-box-value {
            font-size: 36px;
            font-weight: 700;
        }

        .price-box-unit {
            font-size: 14px;
            opacity: 0.8;
        }

        .price-separator {
            font-size: 32px;
            font-weight: 700;
        }

        /* RESULT SECTION */
        .result-section {
            background: linear-gradient(135deg, var(--deep-blue) 0%, #1E40AF 100%);
            border-radius: 16px;
            padding: 40px;
            color: var(--white);
        }

        .result-title {
            font-size: 20px;
            font-weight: 700;
            margin-bottom: 32px;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .result-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 24px;
            margin-bottom: 32px;
        }

        .result-card {
            background: rgba(255,255,255,0.1);
            border-radius: 12px;
            padding: 24px;
            text-align: center;
        }

        .result-label {
            font-size: 13px;
            opacity: 0.8;
            margin-bottom: 8px;
        }

        .result-value {
            font-size: 24px;
            font-weight: 700;
        }

        .result-unit {
            font-size: 12px;
            opacity: 0.7;
        }

        .result-final {
            background: rgba(255,255,255,0.15);
            border-radius: 12px;
            padding: 32px;
            text-align: center;
        }

        .result-final .result-label {
            font-size: 16px;
        }

        .result-final .result-value {
            font-size: 48px;
        }

        .btn-calculate {
            width: 100%;
            padding: 16px 32px;
            font-size: 16px;
            font-weight: 600;
            color: var(--white);
            background: var(--deep-blue);
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.2s ease;
            margin-bottom: 24px;
        }

        .btn-calculate:hover {
            background: #1E40AF;
        }

        /* FOOTER */
        footer {
            background: #1E3A5F;
            color: var(--white);
            padding: 32px 40px;
            margin-top: 60px;
        }

        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .footer-logo { font-size: 18px; font-weight: 700; }
        .footer-text { font-size: 13px; opacity: 0.7; }

        @media (max-width: 1024px) {
            .form-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            .discount-grid {
                grid-template-columns: 1fr;
            }
            .result-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 768px) {
            /* Header */
            header {
                padding: 0 20px;
                height: auto;
                flex-direction: column;
                align-items: flex-start;
                padding: 16px 20px;
            }

            .header-left {
                flex-direction: column;
                align-items: flex-start;
                gap: 16px;
                width: 100%;
            }

            .main-nav {
                flex-wrap: wrap;
                gap: 8px;
                width: 100%;
            }

            .nav-item {
                padding: 8px 14px;
                font-size: 13px;
            }

            /* Breadcrumb */
            .breadcrumb-container {
                padding: 10px 20px;
            }

            .breadcrumb {
                font-size: 12px;
                flex-wrap: wrap;
            }

            /* Hero */
            .hero {
                padding: 32px 20px;
            }

            .hero h1 {
                font-size: 28px;
            }

            .hero p {
                font-size: 14px;
            }

            /* Main Content */
            .main-content {
                padding: 20px;
            }

            /* Section Card */
            .section-card {
                padding: 20px;
                margin-bottom: 20px;
            }

            .section-title {
                font-size: 16px;
                margin-bottom: 16px;
            }

            /* Form Grid */
            .form-grid {
                grid-template-columns: 1fr;
                gap: 16px;
            }

            .form-input {
                font-size: 16px; /* iOS ìë™ í™•ëŒ€ ë°©ì§€ */
                padding: 10px 14px;
            }

            /* Comparable Table */
            .comparable-table {
                font-size: 12px;
            }

            .comparable-table th,
            .comparable-table td {
                padding: 8px 6px;
            }

            .comparable-table input {
                font-size: 12px;
                padding: 6px;
            }

            /* Discount Grid */
            .discount-grid {
                grid-template-columns: 1fr;
                gap: 16px;
            }

            .discount-card {
                padding: 16px;
            }

            /* Slider Container */
            .slider-container {
                margin-top: 20px;
            }

            /* Price Range */
            .price-range-grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }

            .price-separator {
                transform: rotate(90deg);
                font-size: 24px;
            }

            .price-box-value {
                font-size: 28px;
            }

            /* Result Section */
            .result-section {
                padding: 24px 20px;
            }

            .result-grid {
                grid-template-columns: 1fr;
                gap: 16px;
            }

            .result-card {
                padding: 16px;
            }

            .result-final {
                padding: 24px;
            }

            .result-final .result-value {
                font-size: 36px;
            }

            /* Buttons */
            .btn-calculate,
            .btn-add {
                width: 100%;
                padding: 14px;
                font-size: 15px;
            }

            /* Footer */
            footer {
                padding: 24px 20px;
            }

            .footer-content {
                flex-direction: column;
                align-items: flex-start;
                gap: 16px;
            }

            /* Sidebar */
            .sidebar {
                width: 100%;
                position: static;
                margin-top: 20px;
            }
        }
        /* ìš°ì¸¡ ì‚¬ì´ë“œë°” */
        .sidebar {
            width: 280px;
            background: white;
            border-radius: 16px;
            padding: 24px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
            height: fit-content;
            position: sticky;
            top: 100px;
        }

        /* ë§ˆì´ í˜ì´ì§€ ë²„íŠ¼ */
        .btn-mypage {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            width: 100%;
            padding: 14px;
            font-size: 15px;
            font-weight: 600;
            color: white;
            background: var(--deep-blue);
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.2s ease;
            text-decoration: none;
            margin-bottom: 24px;
        }

        .btn-mypage:hover {
            background: #1E40AF;
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(29, 78, 216, 0.3);
        }

        .sidebar-title {
            font-size: 18px;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 20px;
            padding-bottom: 16px;
            border-bottom: 2px solid #E5E7EB;
        }

        .process-steps {
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .process-step {
            padding: 12px 16px;
            border-radius: 8px;
            font-size: 14px;
            color: #6B7280;
            display: flex;
            align-items: center;
            gap: 12px;
            transition: all 0.2s ease;
        }

        .process-step:hover {
            background: #F3F4F6;
        }

        .process-step.active {
            background: #DBEAFE;
            color: #1D4ED8;
            font-weight: 600;
        }

        .step-number {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: #E5E7EB;
            color: #6B7280;
            font-size: 12px;
            font-weight: 700;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .process-step.active .step-number {
            background: #1D4ED8;
            color: white;
        }

        .step-text {
            flex: 1;
        }

        /* ë°˜ì‘í˜• */
        @media (max-width: 1024px) {
            .container {
                flex-direction: column;
            }

            .sidebar {
                width: 100%;
                position: static;
            }

            .method-card {
                flex-direction: column;
                text-align: center;
            }
        }
    </style>
</head>
<body>
    <!-- HEADER -->
    <header>
        <div class="header-left">
            <a href="../../../frontend/index.html" class="logo">
                <svg class="logo-symbol" viewBox="0 0 100 100">
                    <g transform="translate(15, 20)">
                        <line x1="0" y1="0" x2="35" y2="50" stroke="#166534" stroke-width="11" stroke-linecap="round"/>
                        <line x1="70" y1="0" x2="35" y2="50" stroke="#1D4ED8" stroke-width="11" stroke-linecap="round"/>
                        <line x1="35" y1="50" x2="85" y2="50" stroke="#F59E0B" stroke-width="11" stroke-linecap="round"/>
                    </g>
                </svg>
                <span class="logo-text">ValueLink</span>
            </a>
            <nav class="main-nav">
                <a href="../guides/mockup-valuation.html" class="nav-item">í‰ê°€ë°©ë²•</a>
                <a href="../../core/valuation-list.html" class="nav-item">í”„ë¡œì íŠ¸ ëª©ë¡</a>
                <a href="../../projects/project-create.html" class="nav-item">ì‹ ê·œ</a>
                <a href="../../dev/deal.html" class="nav-item">Deal</a>
            </nav>
        </div>
    </header>

    <!-- BREADCRUMB -->
    <div class="breadcrumb-container">
        <div class="breadcrumb">
            <a href="../../../frontend/index.html">í™ˆ</a>
            <span>></span>
            <a href="../guides/mockup-valuation.html">í‰ê°€ë°©ë²•</a>
            <span>></span>
            <span>ìë³¸ì‹œì¥ë²•í‰ê°€ë²•</span>
        </div>
    </div>

    <!-- HERO -->
    <section class="hero">
        <div class="hero-badge">IPO VALUATION</div>
        <h1>IPO ê³µëª¨ê°€ í‰ê°€</h1>
        <p>ìœ ì‚¬ê¸°ì—… ë¹„êµë²•ê³¼ IPO í• ì¸ìœ¨ì„ ì ìš©í•œ í¬ë§ê³µëª¨ê°€ ì‚°ì •</p>
        <a href="ipo-portal.html" style="display: inline-block; margin-top: 20px; padding: 12px 32px; background: #10B981; color: white; text-decoration: none; border-radius: 8px; font-weight: 600; font-size: 16px;">ğŸ“ í‰ê°€ ì‹ ì²­í•˜ê¸°</a>
    </section>

    <!-- MAIN -->
    <!-- MAIN -->
    <div class="container">
        <div class="main-area">
        <!-- INFO BOX -->
        <div class="info-box">
            <h4>&#128161; IPO ê³µëª¨ê°€ ì‚°ì •ì´ë€?</h4>
            <p>
                IPO(ê¸°ì—…ê³µê°œ) ì‹œ ê³µëª¨ê°€ëŠ” ìœ ì‚¬ ìƒì¥ê¸°ì—…ì˜ ì£¼ê°€ìˆ˜ìµë¹„ìœ¨(PER), ì£¼ê°€ìˆœìì‚°ë¹„ìœ¨(PBR) ë“±ì„ ê¸°ì¤€ìœ¼ë¡œ ì‚°ì •í•œ í›„,
                ì£¼ì‹ì˜ ìœ ë™ì„± ë¶€ì¡±, ê¸°ì—…ê·œëª¨ ì°¨ì´, ìƒì¥ í›„ ì£¼ê°€ ë³€ë™ì„± ë“±ì„ ê³ ë ¤í•˜ì—¬ IPO í• ì¸ìœ¨ì„ ì ìš©í•©ë‹ˆë‹¤.
                ì¼ë°˜ì ìœ¼ë¡œ 10%~30%ì˜ í• ì¸ìœ¨ì´ ì ìš©ë˜ë©°, í¬ë§ê³µëª¨ê°€ ë²”ìœ„(ë°´ë“œ)ë¥¼ ì„¤ì •í•˜ì—¬ ìˆ˜ìš”ì˜ˆì¸¡ì„ ì§„í–‰í•©ë‹ˆë‹¤.
            </p>
        </div>

        <!-- TARGET COMPANY -->
        <section class="section-card">
            <h2 class="section-title">
                <span class="icon">&#127970;</span>
                ê³µëª¨ ê¸°ì—… ì •ë³´
            </h2>
            <div class="form-grid">
                <div class="form-group">
                    <label class="form-label">íšŒì‚¬ëª…</label>
                    <input type="text" class="form-input" id="company-name" placeholder="íšŒì‚¬ëª… ì…ë ¥">
                </div>
                <div class="form-group">
                    <label class="form-label">ì—…ì¢…</label>
                    <select class="form-input" id="industry">
                        <option value="">ì—…ì¢… ì„ íƒ</option>
                        <option value="it">ì •ë³´ê¸°ìˆ (IT)</option>
                        <option value="bio">ë°”ì´ì˜¤/í—¬ìŠ¤ì¼€ì–´</option>
                        <option value="manufacturing">ì œì¡°ì—…</option>
                        <option value="retail">ìœ í†µ/ì†Œë¹„ì¬</option>
                        <option value="content">ì½˜í…ì¸ /ë¯¸ë””ì–´</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">ìƒì¥ ì˜ˆì • ì‹œì¥</label>
                    <select class="form-input" id="market">
                        <option value="kospi">KOSPI</option>
                        <option value="kosdaq">KOSDAQ</option>
                        <option value="konex">KONEX</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">ì´ ë°œí–‰ì£¼ì‹ìˆ˜ (ê³µëª¨ í›„)</label>
                    <input type="text" class="form-input" id="total-shares" placeholder="10,000,000">
                    <span class="form-hint">ì£¼</span>
                </div>
                <div class="form-group">
                    <label class="form-label">ê³µëª¨ì£¼ì‹ìˆ˜ (ì‹ ì£¼)</label>
                    <input type="text" class="form-input" id="new-shares" placeholder="2,000,000">
                    <span class="form-hint">ì£¼</span>
                </div>
                <div class="form-group">
                    <label class="form-label">êµ¬ì£¼ë§¤ì¶œ ì£¼ì‹ìˆ˜</label>
                    <input type="text" class="form-input" id="old-shares" placeholder="0">
                    <span class="form-hint">ì£¼ (ì„ íƒì‚¬í•­)</span>
                </div>
            </div>
        </section>

        <!-- FINANCIALS -->
        <section class="section-card">
            <h2 class="section-title">
                <span class="icon">&#128200;</span>
                ê³µëª¨ ê¸°ì—… ì¬ë¬´ì§€í‘œ
            </h2>
            <div class="form-grid">
                <div class="form-group">
                    <label class="form-label">ë‹¹ê¸°ìˆœì´ìµ</label>
                    <input type="text" class="form-input" id="net-income" placeholder="5,000">
                    <span class="form-hint">ë°±ë§Œì›</span>
                </div>
                <div class="form-group">
                    <label class="form-label">ìê¸°ìë³¸</label>
                    <input type="text" class="form-input" id="equity" placeholder="30,000">
                    <span class="form-hint">ë°±ë§Œì›</span>
                </div>
                <div class="form-group">
                    <label class="form-label">ë§¤ì¶œì•¡</label>
                    <input type="text" class="form-input" id="revenue" placeholder="50,000">
                    <span class="form-hint">ë°±ë§Œì›</span>
                </div>
                <div class="form-group">
                    <label class="form-label">ì£¼ë‹¹ìˆœì´ìµ (EPS)</label>
                    <input type="text" class="form-input" id="eps" placeholder="500" readonly>
                    <span class="form-hint">ì› (ìë™ ê³„ì‚°)</span>
                </div>
                <div class="form-group">
                    <label class="form-label">ì£¼ë‹¹ìˆœìì‚° (BPS)</label>
                    <input type="text" class="form-input" id="bps" placeholder="3,000" readonly>
                    <span class="form-hint">ì› (ìë™ ê³„ì‚°)</span>
                </div>
                <div class="form-group">
                    <label class="form-label">ì£¼ë‹¹ë§¤ì¶œì•¡ (SPS)</label>
                    <input type="text" class="form-input" id="sps" placeholder="5,000" readonly>
                    <span class="form-hint">ì› (ìë™ ê³„ì‚°)</span>
                </div>
            </div>
        </section>

        <!-- COMPARABLE COMPANIES -->
        <section class="section-card">
            <h2 class="section-title">
                <span class="icon">&#128101;</span>
                ìœ ì‚¬ ìƒì¥ê¸°ì—…
            </h2>
            <table class="comparable-table" id="peer-table">
                <thead>
                    <tr>
                        <th style="width: 180px;">ê¸°ì—…ëª…</th>
                        <th>ì£¼ê°€ (ì›)</th>
                        <th>PER (ë°°)</th>
                        <th>PBR (ë°°)</th>
                        <th>PSR (ë°°)</th>
                        <th style="width: 60px;"></th>
                    </tr>
                </thead>
                <tbody id="peer-tbody">
                    <tr>
                        <td><input type="text" placeholder="ê¸°ì—…ëª…" style="text-align:left;"></td>
                        <td><input type="text" placeholder="0"></td>
                        <td><input type="text" placeholder="0.0"></td>
                        <td><input type="text" placeholder="0.0"></td>
                        <td><input type="text" placeholder="0.0"></td>
                        <td><button class="btn-remove" onclick="removeRow(this)">ì‚­ì œ</button></td>
                    </tr>
                    <tr>
                        <td><input type="text" placeholder="ê¸°ì—…ëª…" style="text-align:left;"></td>
                        <td><input type="text" placeholder="0"></td>
                        <td><input type="text" placeholder="0.0"></td>
                        <td><input type="text" placeholder="0.0"></td>
                        <td><input type="text" placeholder="0.0"></td>
                        <td><button class="btn-remove" onclick="removeRow(this)">ì‚­ì œ</button></td>
                    </tr>
                    <tr>
                        <td><input type="text" placeholder="ê¸°ì—…ëª…" style="text-align:left;"></td>
                        <td><input type="text" placeholder="0"></td>
                        <td><input type="text" placeholder="0.0"></td>
                        <td><input type="text" placeholder="0.0"></td>
                        <td><input type="text" placeholder="0.0"></td>
                        <td><button class="btn-remove" onclick="removeRow(this)">ì‚­ì œ</button></td>
                    </tr>
                </tbody>
                <tfoot>
                    <tr style="background: var(--deep-blue-pale); font-weight: 600;">
                        <td>í‰ê· </td>
                        <td id="avg-price">-</td>
                        <td id="avg-per">-</td>
                        <td id="avg-pbr">-</td>
                        <td id="avg-psr">-</td>
                        <td></td>
                    </tr>
                </tfoot>
            </table>
            <button class="btn-add" onclick="addRow()">
                <span>+</span> ìœ ì‚¬ê¸°ì—… ì¶”ê°€
            </button>
        </section>

        <!-- MULTIPLE WEIGHT -->
        <section class="section-card">
            <h2 class="section-title">
                <span class="icon">&#9878;&#65039;</span>
                ë©€í‹°í”Œ ê°€ì¤‘ì¹˜ ì„¤ì •
            </h2>
            <div class="form-grid">
                <div class="form-group">
                    <label class="form-label">PER ê°€ì¤‘ì¹˜</label>
                    <input type="number" class="form-input" id="weight-per" value="50" min="0" max="100">
                    <span class="form-hint">% (0~100)</span>
                </div>
                <div class="form-group">
                    <label class="form-label">PBR ê°€ì¤‘ì¹˜</label>
                    <input type="number" class="form-input" id="weight-pbr" value="30" min="0" max="100">
                    <span class="form-hint">% (0~100)</span>
                </div>
                <div class="form-group">
                    <label class="form-label">PSR ê°€ì¤‘ì¹˜</label>
                    <input type="number" class="form-input" id="weight-psr" value="20" min="0" max="100">
                    <span class="form-hint">% (0~100)</span>
                </div>
            </div>
            <div style="text-align: right; margin-top: 16px; font-size: 14px;">
                ê°€ì¤‘ì¹˜ í•©ê³„: <span id="weight-total" style="font-weight: 700; color: var(--deep-blue);">100</span>%
            </div>
        </section>

        <!-- IPO DISCOUNT -->
        <section class="section-card">
            <h2 class="section-title">
                <span class="icon">&#128181;</span>
                IPO í• ì¸ìœ¨ ì„¤ì •
            </h2>
            <div class="discount-grid">
                <div class="discount-card">
                    <div class="discount-label">ìœ ë™ì„± í• ì¸</div>
                    <div class="discount-value" id="display-liquidity">10%</div>
                    <div class="discount-hint">ë¹„ìƒì¥ â†’ ìƒì¥ ìœ ë™ì„± ë¶€ì¡±</div>
                </div>
                <div class="discount-card">
                    <div class="discount-label">ê·œëª¨ í• ì¸</div>
                    <div class="discount-value" id="display-size">5%</div>
                    <div class="discount-hint">ëŒ€ê¸°ì—… ëŒ€ë¹„ ì¤‘ì†Œê¸°ì—… ë¦¬ìŠ¤í¬</div>
                </div>
                <div class="discount-card">
                    <div class="discount-label">ì´ IPO í• ì¸ìœ¨</div>
                    <div class="discount-value" id="display-total">15%</div>
                    <div class="discount-hint">ìµœì¢… ì ìš© í• ì¸ìœ¨</div>
                </div>
            </div>
            <div class="slider-container">
                <div class="slider-label">
                    <span>ìœ ë™ì„± í• ì¸ìœ¨</span>
                    <span class="slider-value" id="liquidity-value">10%</span>
                </div>
                <input type="range" id="liquidity-slider" min="0" max="30" value="10" step="1">
                <div class="slider-marks">
                    <span>0%</span>
                    <span>10%</span>
                    <span>20%</span>
                    <span>30%</span>
                </div>
            </div>
            <div class="slider-container">
                <div class="slider-label">
                    <span>ê·œëª¨ í• ì¸ìœ¨</span>
                    <span class="slider-value" id="size-value">5%</span>
                </div>
                <input type="range" id="size-slider" min="0" max="20" value="5" step="1">
                <div class="slider-marks">
                    <span>0%</span>
                    <span>5%</span>
                    <span>10%</span>
                    <span>15%</span>
                    <span>20%</span>
                </div>
            </div>
        </section>

        <!-- BAND WIDTH -->
        <section class="section-card">
            <h2 class="section-title">
                <span class="icon">&#128200;</span>
                í¬ë§ê³µëª¨ê°€ ë°´ë“œ ì„¤ì •
            </h2>
            <div class="form-grid" style="grid-template-columns: repeat(2, 1fr);">
                <div class="form-group">
                    <label class="form-label">ë°´ë“œ í•˜ë‹¨ (-)</label>
                    <input type="number" class="form-input" id="band-low" value="10" min="0" max="30">
                    <span class="form-hint">% (ê¸°ì¤€ê°€ ëŒ€ë¹„ í•˜í•œ)</span>
                </div>
                <div class="form-group">
                    <label class="form-label">ë°´ë“œ ìƒë‹¨ (+)</label>
                    <input type="number" class="form-input" id="band-high" value="10" min="0" max="30">
                    <span class="form-hint">% (ê¸°ì¤€ê°€ ëŒ€ë¹„ ìƒí•œ)</span>
                </div>
            </div>
        </section>

        <!-- CALCULATE -->
        <button class="btn-calculate" onclick="calculateIPO()">ê³µëª¨ê°€ ì‚°ì •í•˜ê¸°</button>

        <!-- PRICE RANGE -->
        <section class="price-range-section" id="price-range-section" style="display: none;">
            <h2 class="price-range-title">
                <span>&#128178;</span>
                í¬ë§ê³µëª¨ê°€ ë²”ìœ„ (ë°´ë“œ)
            </h2>
            <div class="price-range-grid">
                <div class="price-box">
                    <div class="price-box-label">ë°´ë“œ í•˜ë‹¨</div>
                    <div class="price-box-value" id="band-low-price">-</div>
                    <div class="price-box-unit">ì›</div>
                </div>
                <div class="price-separator">~</div>
                <div class="price-box">
                    <div class="price-box-label">ë°´ë“œ ìƒë‹¨</div>
                    <div class="price-box-value" id="band-high-price">-</div>
                    <div class="price-box-unit">ì›</div>
                </div>
            </div>
        </section>

        <!-- RESULT -->
        <section class="result-section" id="result-section" style="display: none;">
            <h2 class="result-title">
                <span>&#127919;</span>
                IPO ê³µëª¨ê°€ í‰ê°€ ê²°ê³¼
            </h2>
            <div class="result-grid">
                <div class="result-card">
                    <div class="result-label">PER ê¸°ì¤€ ì£¼ê°€</div>
                    <div class="result-value" id="result-per">-</div>
                    <div class="result-unit">ì›</div>
                </div>
                <div class="result-card">
                    <div class="result-label">PBR ê¸°ì¤€ ì£¼ê°€</div>
                    <div class="result-value" id="result-pbr">-</div>
                    <div class="result-unit">ì›</div>
                </div>
                <div class="result-card">
                    <div class="result-label">PSR ê¸°ì¤€ ì£¼ê°€</div>
                    <div class="result-value" id="result-psr">-</div>
                    <div class="result-unit">ì›</div>
                </div>
                <div class="result-card">
                    <div class="result-label">ê°€ì¤‘í‰ê·  ì£¼ê°€</div>
                    <div class="result-value" id="result-weighted">-</div>
                    <div class="result-unit">ì›</div>
                </div>
            </div>
            <div class="result-grid" style="grid-template-columns: repeat(3, 1fr);">
                <div class="result-card">
                    <div class="result-label">IPO í• ì¸ìœ¨</div>
                    <div class="result-value" id="result-discount">-</div>
                    <div class="result-unit">%</div>
                </div>
                <div class="result-card">
                    <div class="result-label">ê³µëª¨ ì˜ˆì • ê¸ˆì•¡</div>
                    <div class="result-value" id="result-proceeds">-</div>
                    <div class="result-unit">ì–µì›</div>
                </div>
                <div class="result-card">
                    <div class="result-label">ê³µëª¨ í›„ ì‹œê°€ì´ì•¡</div>
                    <div class="result-value" id="result-marketcap">-</div>
                    <div class="result-unit">ì–µì›</div>
                </div>
            </div>
            <div class="result-final">
                <div class="result-label">í• ì¸ í›„ ê¸°ì¤€ê³µëª¨ê°€</div>
                <div class="result-value" id="result-final">-</div>
                <div class="result-unit">ì›</div>
            </div>
        </section>
    </div >
        <!-- ìš°ì¸¡ ì‚¬ì´ë“œë°” (14ë‹¨ê³„ í”„ë¡œì„¸ìŠ¤) -->
        <aside id="sidebar-container" class="sidebar-wrapper">
            <!-- ê³µí†µ ì‚¬ì´ë“œë°” ì»´í¬ë„ŒíŠ¸ê°€ ì—¬ê¸°ì— ì£¼ì…ë¨ -->
        </aside>
    </div>

    <!-- FOOTER -->
    <footer>
        <div class="footer-content">
            <div class="footer-logo">ValueLink</div>
            <div class="footer-text">Â© 2026 ValueLink. All rights reserved.</div>
        </div>
    </footer>

    <script>
        // Format number
        function formatNumber(num) {
            return Math.round(num).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ',');
        }

        // Parse number
        function parseNumber(str) {
            return parseFloat(str.replace(/,/g, '')) || 0;
        }

        // Add row
        function addRow() {
            const tbody = document.getElementById('peer-tbody');
            const newRow = document.createElement('tr');
            newRow.innerHTML = `
                <td><input type="text" placeholder="ê¸°ì—…ëª…" style="text-align:left;"></td>
                <td><input type="text" placeholder="0"></td>
                <td><input type="text" placeholder="0.0"></td>
                <td><input type="text" placeholder="0.0"></td>
                <td><input type="text" placeholder="0.0"></td>
                <td><button class="btn-remove" onclick="removeRow(this)">ì‚­ì œ</button></td>
            `;
            tbody.appendChild(newRow);
            addInputListeners();
        }

        // Remove row
        function removeRow(btn) {
            const tbody = document.getElementById('peer-tbody');
            if (tbody.rows.length > 1) {
                btn.closest('tr').remove();
                calculateAverages();
            }
        }

        // Calculate averages
        function calculateAverages() {
            const tbody = document.getElementById('peer-tbody');
            const rows = tbody.rows;

            let totals = { price: 0, per: 0, pbr: 0, psr: 0 };
            let counts = { price: 0, per: 0, pbr: 0, psr: 0 };

            for (let row of rows) {
                const inputs = row.querySelectorAll('input');
                const values = Array.from(inputs).slice(1, 5).map(input => parseFloat(input.value.replace(/,/g, '')) || 0);

                if (values[0] > 0) { totals.price += values[0]; counts.price++; }
                if (values[1] > 0) { totals.per += values[1]; counts.per++; }
                if (values[2] > 0) { totals.pbr += values[2]; counts.pbr++; }
                if (values[3] > 0) { totals.psr += values[3]; counts.psr++; }
            }

            document.getElementById('avg-price').textContent = counts.price > 0 ? formatNumber(totals.price / counts.price) : '-';
            document.getElementById('avg-per').textContent = counts.per > 0 ? (totals.per / counts.per).toFixed(1) : '-';
            document.getElementById('avg-pbr').textContent = counts.pbr > 0 ? (totals.pbr / counts.pbr).toFixed(1) : '-';
            document.getElementById('avg-psr').textContent = counts.psr > 0 ? (totals.psr / counts.psr).toFixed(1) : '-';
        }

        // Calculate per-share metrics
        function calculatePerShare() {
            const totalShares = parseNumber(document.getElementById('total-shares').value);
            const netIncome = parseNumber(document.getElementById('net-income').value) * 1000000; // ë°±ë§Œì› â†’ ì›
            const equity = parseNumber(document.getElementById('equity').value) * 1000000;
            const revenue = parseNumber(document.getElementById('revenue').value) * 1000000;

            if (totalShares > 0) {
                document.getElementById('eps').value = formatNumber(netIncome / totalShares);
                document.getElementById('bps').value = formatNumber(equity / totalShares);
                document.getElementById('sps').value = formatNumber(revenue / totalShares);
            }
        }

        // Update discount display
        function updateDiscount() {
            const liquidity = parseInt(document.getElementById('liquidity-slider').value);
            const size = parseInt(document.getElementById('size-slider').value);
            const total = liquidity + size;

            document.getElementById('liquidity-value').textContent = liquidity + '%';
            document.getElementById('size-value').textContent = size + '%';
            document.getElementById('display-liquidity').textContent = liquidity + '%';
            document.getElementById('display-size').textContent = size + '%';
            document.getElementById('display-total').textContent = total + '%';
        }

        // Update weight total
        function updateWeightTotal() {
            const per = parseFloat(document.getElementById('weight-per').value) || 0;
            const pbr = parseFloat(document.getElementById('weight-pbr').value) || 0;
            const psr = parseFloat(document.getElementById('weight-psr').value) || 0;
            const total = per + pbr + psr;
            document.getElementById('weight-total').textContent = total;
            document.getElementById('weight-total').style.color = total === 100 ? '#10B981' : '#EF4444';
        }

        // Calculate IPO
        function calculateIPO() {
            // Get data
            const totalShares = parseNumber(document.getElementById('total-shares').value);
            const newShares = parseNumber(document.getElementById('new-shares').value);
            const eps = parseNumber(document.getElementById('eps').value);
            const bps = parseNumber(document.getElementById('bps').value);
            const sps = parseNumber(document.getElementById('sps').value);

            const avgPer = parseFloat(document.getElementById('avg-per').textContent) || 0;
            const avgPbr = parseFloat(document.getElementById('avg-pbr').textContent) || 0;
            const avgPsr = parseFloat(document.getElementById('avg-psr').textContent) || 0;

            const weightPer = parseFloat(document.getElementById('weight-per').value) / 100 || 0;
            const weightPbr = parseFloat(document.getElementById('weight-pbr').value) / 100 || 0;
            const weightPsr = parseFloat(document.getElementById('weight-psr').value) / 100 || 0;

            const discountLiquidity = parseInt(document.getElementById('liquidity-slider').value) / 100;
            const discountSize = parseInt(document.getElementById('size-slider').value) / 100;
            const totalDiscount = discountLiquidity + discountSize;

            const bandLow = parseFloat(document.getElementById('band-low').value) / 100;
            const bandHigh = parseFloat(document.getElementById('band-high').value) / 100;

            // Validate
            if (totalShares <= 0) {
                alert('ì´ ë°œí–‰ì£¼ì‹ìˆ˜ë¥¼ ì…ë ¥í•´ ì£¼ì„¸ìš”.');
                return;
            }

            const weightTotal = weightPer + weightPbr + weightPsr;
            if (Math.abs(weightTotal - 1) > 0.01) {
                alert('ê°€ì¤‘ì¹˜ í•©ê³„ê°€ 100%ê°€ ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.');
                return;
            }

            // Calculate stock prices
            const pricePer = eps * avgPer;
            const pricePbr = bps * avgPbr;
            const pricePsr = sps * avgPsr;

            // Weighted average
            const weightedPrice = pricePer * weightPer + pricePbr * weightPbr + pricePsr * weightPsr;

            // Apply discount
            const discountedPrice = weightedPrice * (1 - totalDiscount);

            // Round to nearest 100
            const roundedPrice = Math.round(discountedPrice / 100) * 100;

            // Calculate band
            const lowPrice = Math.round(roundedPrice * (1 - bandLow) / 100) * 100;
            const highPrice = Math.round(roundedPrice * (1 + bandHigh) / 100) * 100;

            // Calculate proceeds
            const proceeds = (newShares * roundedPrice) / 100000000; // ì–µì›
            const marketCap = (totalShares * roundedPrice) / 100000000; // ì–µì›

            // Display results
            document.getElementById('result-per').textContent = avgPer > 0 ? formatNumber(pricePer) : '-';
            document.getElementById('result-pbr').textContent = avgPbr > 0 ? formatNumber(pricePbr) : '-';
            document.getElementById('result-psr').textContent = avgPsr > 0 ? formatNumber(pricePsr) : '-';
            document.getElementById('result-weighted').textContent = formatNumber(weightedPrice);
            document.getElementById('result-discount').textContent = (totalDiscount * 100).toFixed(0);
            document.getElementById('result-proceeds').textContent = formatNumber(proceeds);
            document.getElementById('result-marketcap').textContent = formatNumber(marketCap);
            document.getElementById('result-final').textContent = formatNumber(roundedPrice);

            document.getElementById('band-low-price').textContent = formatNumber(lowPrice);
            document.getElementById('band-high-price').textContent = formatNumber(highPrice);

            document.getElementById('price-range-section').style.display = 'block';
            document.getElementById('result-section').style.display = 'block';
            document.getElementById('price-range-section').scrollIntoView({ behavior: 'smooth' });
        }

        // Add input listeners
        function addInputListeners() {
            document.querySelectorAll('#peer-tbody input').forEach(input => {
                input.addEventListener('input', calculateAverages);
            });
        }

        // Event listeners
        document.getElementById('liquidity-slider').addEventListener('input', updateDiscount);
        document.getElementById('size-slider').addEventListener('input', updateDiscount);

        ['weight-per', 'weight-pbr', 'weight-psr'].forEach(id => {
            document.getElementById(id).addEventListener('input', updateWeightTotal);
        });

        ['total-shares', 'net-income', 'equity', 'revenue'].forEach(id => {
            document.getElementById(id).addEventListener('input', calculatePerShare);
        });

        // Initialize
        addInputListeners();
        updateDiscount();
    </script>

    <!-- ì‚¬ì´ë“œë°” ì´ˆê¸°í™” -->
    <script type="module">
        import { injectSidebar } from '../../components/common-sidebar.js';
        import { getCurrentProject, STATUS } from '../../components/project-status-checker.js';

        async function initSidebar() {
            const urlParams = new URLSearchParams(window.location.search);
            const projectId = urlParams.get('projectId');
            const method = urlParams.get('method') || 'intrinsic';

            const project = await getCurrentProject();

            if (project && project.project_id === projectId) {
                const currentStep = project.current_step || 6;
                injectSidebar('sidebar-container', currentStep, STATUS.IN_PROGRESS, method, projectId);
            } else {
                injectSidebar('sidebar-container', 6, STATUS.IN_PROGRESS, 'intrinsic', null);
            }
        }

        initSidebar();
    </script>
</body>
</html>
