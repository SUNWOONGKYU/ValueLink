<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ìƒëŒ€ê°€ì¹˜ í‰ê°€ | ValueLink</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }

        :root {
            --deep-green: #166534;
            --deep-blue: #1D4ED8;
            --amber: #F59E0B;
            --deep-blue-light: #3B82F6;
            --deep-blue-pale: #DBEAFE;
            --text-primary: #111827;
            --text-secondary: #374151;
            --text-muted: #6B7280;
            --bg-light: #F3F4F6;
            --white: #FFFFFF;
            --success: #10B981;
            --warning: #F59E0B;
            --error: #EF4444;
        }

        body {
            font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, sans-serif;
            background-color: var(--bg-light);
            color: var(--text-primary);
        }

        /* HEADER */
        header {
            background: var(--white);
            border-bottom: 1px solid #E5E7EB;
            padding: 0 40px;
            height: 72px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-left {
            display: flex;
            align-items: center;
            gap: 48px;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
            text-decoration: none;
        }

        .logo-symbol { width: 44px; height: 44px; }
        .logo-text { font-size: 24px; font-weight: 700; color: #1E3A5F; }

        .main-nav { display: flex; gap: 8px; }

        .nav-item {
            padding: 10px 20px;
            font-size: 15px;
            font-weight: 600;
            text-decoration: none;
            border-radius: 8px;
            transition: all 0.2s ease;
        }

        .nav-item { color: var(--text-secondary); }
        .nav-item:hover { background: var(--bg-light); }

        /* HERO */
        .hero {
            background: var(--deep-blue);
            padding: 48px 40px;
            text-align: center;
            color: var(--white);
        }

        .hero-badge {
            display: inline-block;
            background: rgba(255,255,255,0.2);
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 16px;
        }

        .hero h1 {
            font-size: 36px;
            font-weight: 700;
            margin-bottom: 12px;
        }

        .hero p {
            font-size: 16px;
            opacity: 0.9;
        }

        /* MAIN */
        .main-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px;
        }

        /* SECTION CARD */
        .section-card {
            background: var(--white);
            border-radius: 16px;
            padding: 32px;
            margin-bottom: 24px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }

        .section-title {
            font-size: 20px;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 24px;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .section-title .icon {
            width: 40px;
            height: 40px;
            background: var(--deep-blue-pale);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
        }

        /* FORM GRID */
        .form-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .form-group.full-width {
            grid-column: 1 / -1;
        }

        .form-label {
            font-size: 14px;
            font-weight: 600;
            color: var(--text-primary);
        }

        .form-hint {
            font-size: 12px;
            color: var(--text-muted);
        }

        .form-input {
            padding: 12px 16px;
            font-size: 14px;
            border: 1px solid #D1D5DB;
            border-radius: 8px;
            transition: border-color 0.2s;
        }

        .form-input:focus {
            outline: none;
            border-color: var(--deep-blue);
        }

        .form-input::placeholder {
            color: var(--text-muted);
        }

        /* COMPARABLE COMPANIES TABLE */
        .comparable-table-container {
            overflow-x: auto;
            margin-top: 16px;
        }

        .comparable-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 14px;
        }

        .comparable-table th,
        .comparable-table td {
            padding: 12px 16px;
            text-align: center;
            border-bottom: 1px solid #E5E7EB;
        }

        .comparable-table th {
            background: var(--bg-light);
            font-weight: 600;
            color: var(--text-secondary);
        }

        .comparable-table tr:hover {
            background: #F9FAFB;
        }

        .comparable-table input {
            width: 100%;
            padding: 8px;
            font-size: 13px;
            border: 1px solid #D1D5DB;
            border-radius: 6px;
            text-align: right;
        }

        .comparable-table input:focus {
            outline: none;
            border-color: var(--deep-blue);
        }

        .comparable-table .company-name {
            text-align: left;
            font-weight: 500;
        }

        .btn-add-company {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 10px 20px;
            font-size: 14px;
            font-weight: 600;
            color: var(--deep-blue);
            background: var(--deep-blue-pale);
            border: none;
            border-radius: 8px;
            cursor: pointer;
            margin-top: 16px;
        }

        .btn-add-company:hover {
            background: var(--deep-blue);
            color: var(--white);
        }

        .btn-remove {
            padding: 6px 12px;
            font-size: 12px;
            color: var(--error);
            background: #FEE2E2;
            border: none;
            border-radius: 6px;
            cursor: pointer;
        }

        /* MULTIPLE SELECTION */
        .multiple-grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 16px;
        }

        .multiple-card {
            background: var(--bg-light);
            border: 2px solid transparent;
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .multiple-card:hover {
            border-color: var(--deep-blue-light);
        }

        .multiple-card.selected {
            border-color: var(--deep-blue);
            background: var(--deep-blue-pale);
        }

        .multiple-card input[type="checkbox"] {
            display: none;
        }

        .multiple-name {
            font-size: 18px;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 4px;
        }

        .multiple-desc {
            font-size: 12px;
            color: var(--text-muted);
        }

        .multiple-value {
            font-size: 24px;
            font-weight: 700;
            color: var(--deep-blue);
            margin-top: 12px;
        }

        /* WEIGHT INPUT */
        .weight-section {
            margin-top: 24px;
            padding-top: 24px;
            border-top: 1px solid #E5E7EB;
        }

        .weight-grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 16px;
        }

        .weight-item {
            text-align: center;
        }

        .weight-label {
            font-size: 14px;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 8px;
        }

        .weight-input {
            width: 80px;
            padding: 8px;
            font-size: 14px;
            text-align: center;
            border: 1px solid #D1D5DB;
            border-radius: 6px;
        }

        .weight-input:focus {
            outline: none;
            border-color: var(--deep-blue);
        }

        .weight-total {
            margin-top: 16px;
            text-align: right;
            font-size: 14px;
        }

        .weight-total span {
            font-weight: 700;
            color: var(--deep-blue);
        }

        /* RESULT SECTION */
        .result-section {
            background: linear-gradient(135deg, var(--deep-blue) 0%, #1E40AF 100%);
            border-radius: 16px;
            padding: 40px;
            color: var(--white);
        }

        .result-title {
            font-size: 20px;
            font-weight: 700;
            margin-bottom: 32px;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .result-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 24px;
            margin-bottom: 32px;
        }

        .result-card {
            background: rgba(255,255,255,0.1);
            border-radius: 12px;
            padding: 24px;
            text-align: center;
        }

        .result-label {
            font-size: 14px;
            opacity: 0.8;
            margin-bottom: 8px;
        }

        .result-value {
            font-size: 28px;
            font-weight: 700;
        }

        .result-unit {
            font-size: 14px;
            opacity: 0.8;
        }

        .result-final {
            background: rgba(255,255,255,0.15);
            border-radius: 12px;
            padding: 32px;
            text-align: center;
        }

        .result-final .result-label {
            font-size: 16px;
        }

        .result-final .result-value {
            font-size: 42px;
        }

        .btn-calculate {
            width: 100%;
            padding: 16px 32px;
            font-size: 16px;
            font-weight: 600;
            color: var(--white);
            background: var(--deep-blue);
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.2s ease;
            margin-bottom: 24px;
        }

        .btn-calculate:hover {
            background: #1E40AF;
        }

        /* INFO BOX */
        .info-box {
            background: var(--deep-blue-pale);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 24px;
        }

        .info-box h4 {
            font-size: 14px;
            font-weight: 600;
            color: var(--deep-blue);
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .info-box p {
            font-size: 13px;
            color: #1E40AF;
            line-height: 1.6;
        }

        /* FOOTER */
        footer {
            background: #1E3A5F;
            color: var(--white);
            padding: 32px 40px;
            margin-top: 60px;
        }

        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .footer-logo { font-size: 18px; font-weight: 700; }
        .footer-text { font-size: 13px; opacity: 0.7; }

        @media (max-width: 1024px) {
            .form-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            .multiple-grid {
                grid-template-columns: repeat(3, 1fr);
            }
            .weight-grid {
                grid-template-columns: repeat(3, 1fr);
            }
            .result-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 768px) {
            .form-grid {
                grid-template-columns: 1fr;
            }
            .multiple-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            .weight-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            .result-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- HEADER -->
    <header>
        <div class="header-left">
            <a href="../index.html" class="logo">
                <svg class="logo-symbol" viewBox="0 0 100 100">
                    <g transform="translate(15, 20)">
                        <line x1="0" y1="0" x2="35" y2="50" stroke="#166534" stroke-width="11" stroke-linecap="round"/>
                        <line x1="70" y1="0" x2="35" y2="50" stroke="#1D4ED8" stroke-width="11" stroke-linecap="round"/>
                        <line x1="35" y1="50" x2="85" y2="50" stroke="#F59E0B" stroke-width="11" stroke-linecap="round"/>
                    </g>
                </svg>
                <span class="logo-text">ValueLink</span>
            </a>
            <nav class="main-nav">
                <a href="mockup-valuation.html" class="nav-item">í‰ê°€ë°©ë²•</a>
                <a href="valuation-list.html" class="nav-item">í”„ë¡œì íŠ¸ ëª©ë¡</a>
                <a href="project-create.html" class="nav-item">ì‹ ê·œ</a>
                <a href="mockup-deal.html" class="nav-item">Deal</a>
            </nav>
        </div>
    </header>

    <!-- HERO -->
    <section class="hero">
        <div class="hero-badge">RELATIVE VALUATION</div>
        <h1>ìƒëŒ€ê°€ì¹˜ í‰ê°€</h1>
        <p>ìœ ì‚¬ê¸°ì—… ë¹„êµë¥¼ í†µí•œ ì‹œì¥ ë©€í‹°í”Œ ê¸°ë°˜ ê¸°ì—…ê°€ì¹˜ ì‚°ì •</p>
        <a href="relative-portal.html" style="display: inline-block; margin-top: 20px; padding: 12px 32px; background: #10B981; color: white; text-decoration: none; border-radius: 8px; font-weight: 600; font-size: 16px;">ğŸ“ í‰ê°€ ì‹ ì²­í•˜ê¸°</a>
    </section>

    <!-- MAIN -->
    <main class="main-content">
        <!-- INFO BOX -->
        <div class="info-box">
            <h4>&#128161; ìƒëŒ€ê°€ì¹˜ í‰ê°€ë€?</h4>
            <p>
                ìƒëŒ€ê°€ì¹˜ í‰ê°€ëŠ” ìœ ì‚¬í•œ ì‚¬ì—…ì„ ì˜ìœ„í•˜ëŠ” ìƒì¥ê¸°ì—…ì˜ ì‹œì¥ ë©€í‹°í”Œ(PER, PBR, PSR, EV/EBITDA, EV/Sales)ì„
                í‰ê°€ëŒ€ìƒê¸°ì—…ì— ì ìš©í•˜ì—¬ ê¸°ì—…ê°€ì¹˜ë¥¼ ì‚°ì •í•˜ëŠ” ë°©ë²•ì…ë‹ˆë‹¤. ì‹œì¥ì—ì„œ í˜•ì„±ëœ ê°€ê²©ì„ ê¸°ì¤€ìœ¼ë¡œ í•˜ë¯€ë¡œ
                í˜„ì¬ ì‹œì¥ ìƒí™©ì„ ë°˜ì˜í•œ ê°€ì¹˜ë¥¼ ì‚°ì¶œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
            </p>
        </div>

        <!-- TARGET COMPANY -->
        <section class="section-card">
            <h2 class="section-title">
                <span class="icon">&#127970;</span>
                í‰ê°€ëŒ€ìƒ ê¸°ì—… ì •ë³´
            </h2>
            <div class="form-grid">
                <div class="form-group">
                    <label class="form-label">íšŒì‚¬ëª…</label>
                    <input type="text" class="form-input" id="company-name" placeholder="íšŒì‚¬ëª… ì…ë ¥">
                </div>
                <div class="form-group">
                    <label class="form-label">ì—…ì¢…</label>
                    <select class="form-input" id="industry">
                        <option value="">ì—…ì¢… ì„ íƒ</option>
                        <option value="it">ì •ë³´ê¸°ìˆ (IT)</option>
                        <option value="bio">ë°”ì´ì˜¤/í—¬ìŠ¤ì¼€ì–´</option>
                        <option value="manufacturing">ì œì¡°ì—…</option>
                        <option value="retail">ìœ í†µ/ì†Œë¹„ì¬</option>
                        <option value="finance">ê¸ˆìœµ</option>
                        <option value="energy">ì—ë„ˆì§€/ìœ í‹¸ë¦¬í‹°</option>
                        <option value="content">ì½˜í…ì¸ /ë¯¸ë””ì–´</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">ë°œí–‰ì£¼ì‹ìˆ˜</label>
                    <input type="text" class="form-input" id="shares-outstanding" placeholder="1,000,000">
                    <span class="form-hint">ì£¼</span>
                </div>
            </div>
        </section>

        <!-- TARGET FINANCIALS -->
        <section class="section-card">
            <h2 class="section-title">
                <span class="icon">&#128200;</span>
                í‰ê°€ëŒ€ìƒ ê¸°ì—… ì¬ë¬´ì§€í‘œ
            </h2>
            <div class="form-grid">
                <div class="form-group">
                    <label class="form-label">ìˆœì´ìµ (ë‹¹ê¸°ìˆœì´ìµ)</label>
                    <input type="text" class="form-input" id="net-income" placeholder="10,000">
                    <span class="form-hint">ë°±ë§Œì›</span>
                </div>
                <div class="form-group">
                    <label class="form-label">ìê¸°ìë³¸ (ìˆœìì‚°)</label>
                    <input type="text" class="form-input" id="equity" placeholder="50,000">
                    <span class="form-hint">ë°±ë§Œì›</span>
                </div>
                <div class="form-group">
                    <label class="form-label">ë§¤ì¶œì•¡</label>
                    <input type="text" class="form-input" id="revenue" placeholder="100,000">
                    <span class="form-hint">ë°±ë§Œì›</span>
                </div>
                <div class="form-group">
                    <label class="form-label">EBITDA</label>
                    <input type="text" class="form-input" id="ebitda" placeholder="20,000">
                    <span class="form-hint">ë°±ë§Œì› (ì˜ì—…ì´ìµ + ê°ê°€ìƒê°ë¹„)</span>
                </div>
                <div class="form-group">
                    <label class="form-label">ìˆœì°¨ì…ê¸ˆ</label>
                    <input type="text" class="form-input" id="net-debt" placeholder="15,000">
                    <span class="form-hint">ë°±ë§Œì› (ì´ì°¨ì…ê¸ˆ - í˜„ê¸ˆì„±ìì‚°)</span>
                </div>
            </div>
        </section>

        <!-- COMPARABLE COMPANIES -->
        <section class="section-card">
            <h2 class="section-title">
                <span class="icon">&#128101;</span>
                ìœ ì‚¬ê¸°ì—… (Peer Group)
            </h2>
            <div class="comparable-table-container">
                <table class="comparable-table" id="peer-table">
                    <thead>
                        <tr>
                            <th style="width: 180px;">ê¸°ì—…ëª…</th>
                            <th>ì‹œê°€ì´ì•¡<br>(ë°±ë§Œì›)</th>
                            <th>PER<br>(ë°°)</th>
                            <th>PBR<br>(ë°°)</th>
                            <th>PSR<br>(ë°°)</th>
                            <th>EV/EBITDA<br>(ë°°)</th>
                            <th>EV/Sales<br>(ë°°)</th>
                            <th style="width: 60px;"></th>
                        </tr>
                    </thead>
                    <tbody id="peer-tbody">
                        <tr>
                            <td class="company-name"><input type="text" placeholder="ê¸°ì—…ëª…" style="text-align:left;"></td>
                            <td><input type="text" placeholder="0"></td>
                            <td><input type="text" placeholder="0.0"></td>
                            <td><input type="text" placeholder="0.0"></td>
                            <td><input type="text" placeholder="0.0"></td>
                            <td><input type="text" placeholder="0.0"></td>
                            <td><input type="text" placeholder="0.0"></td>
                            <td><button class="btn-remove" onclick="removeRow(this)">ì‚­ì œ</button></td>
                        </tr>
                        <tr>
                            <td class="company-name"><input type="text" placeholder="ê¸°ì—…ëª…" style="text-align:left;"></td>
                            <td><input type="text" placeholder="0"></td>
                            <td><input type="text" placeholder="0.0"></td>
                            <td><input type="text" placeholder="0.0"></td>
                            <td><input type="text" placeholder="0.0"></td>
                            <td><input type="text" placeholder="0.0"></td>
                            <td><input type="text" placeholder="0.0"></td>
                            <td><button class="btn-remove" onclick="removeRow(this)">ì‚­ì œ</button></td>
                        </tr>
                        <tr>
                            <td class="company-name"><input type="text" placeholder="ê¸°ì—…ëª…" style="text-align:left;"></td>
                            <td><input type="text" placeholder="0"></td>
                            <td><input type="text" placeholder="0.0"></td>
                            <td><input type="text" placeholder="0.0"></td>
                            <td><input type="text" placeholder="0.0"></td>
                            <td><input type="text" placeholder="0.0"></td>
                            <td><input type="text" placeholder="0.0"></td>
                            <td><button class="btn-remove" onclick="removeRow(this)">ì‚­ì œ</button></td>
                        </tr>
                    </tbody>
                    <tfoot>
                        <tr style="background: var(--deep-blue-pale); font-weight: 600;">
                            <td>í‰ê· </td>
                            <td id="avg-marketcap">-</td>
                            <td id="avg-per">-</td>
                            <td id="avg-pbr">-</td>
                            <td id="avg-psr">-</td>
                            <td id="avg-ev-ebitda">-</td>
                            <td id="avg-ev-sales">-</td>
                            <td></td>
                        </tr>
                    </tfoot>
                </table>
            </div>
            <button class="btn-add-company" onclick="addCompanyRow()">
                <span>+</span> ìœ ì‚¬ê¸°ì—… ì¶”ê°€
            </button>
        </section>

        <!-- MULTIPLE SELECTION -->
        <section class="section-card">
            <h2 class="section-title">
                <span class="icon">&#128202;</span>
                ì ìš© ë©€í‹°í”Œ ì„ íƒ ë° ê°€ì¤‘ì¹˜
            </h2>
            <div class="multiple-grid">
                <div class="multiple-card selected" onclick="toggleMultiple(this)">
                    <input type="checkbox" id="check-per" checked>
                    <div class="multiple-name">PER</div>
                    <div class="multiple-desc">ì£¼ê°€ìˆ˜ìµë¹„ìœ¨</div>
                    <div class="multiple-value" id="display-per">-</div>
                </div>
                <div class="multiple-card selected" onclick="toggleMultiple(this)">
                    <input type="checkbox" id="check-pbr" checked>
                    <div class="multiple-name">PBR</div>
                    <div class="multiple-desc">ì£¼ê°€ìˆœìì‚°ë¹„ìœ¨</div>
                    <div class="multiple-value" id="display-pbr">-</div>
                </div>
                <div class="multiple-card" onclick="toggleMultiple(this)">
                    <input type="checkbox" id="check-psr">
                    <div class="multiple-name">PSR</div>
                    <div class="multiple-desc">ì£¼ê°€ë§¤ì¶œë¹„ìœ¨</div>
                    <div class="multiple-value" id="display-psr">-</div>
                </div>
                <div class="multiple-card selected" onclick="toggleMultiple(this)">
                    <input type="checkbox" id="check-ev-ebitda" checked>
                    <div class="multiple-name">EV/EBITDA</div>
                    <div class="multiple-desc">ê¸°ì—…ê°€ì¹˜/EBITDA</div>
                    <div class="multiple-value" id="display-ev-ebitda">-</div>
                </div>
                <div class="multiple-card" onclick="toggleMultiple(this)">
                    <input type="checkbox" id="check-ev-sales">
                    <div class="multiple-name">EV/Sales</div>
                    <div class="multiple-desc">ê¸°ì—…ê°€ì¹˜/ë§¤ì¶œ</div>
                    <div class="multiple-value" id="display-ev-sales">-</div>
                </div>
            </div>

            <div class="weight-section">
                <h4 style="font-size: 14px; font-weight: 600; margin-bottom: 16px;">ë©€í‹°í”Œë³„ ê°€ì¤‘ì¹˜ ì„¤ì •</h4>
                <div class="weight-grid">
                    <div class="weight-item">
                        <div class="weight-label">PER</div>
                        <input type="number" class="weight-input" id="weight-per" value="40" min="0" max="100">
                        <span class="form-hint">%</span>
                    </div>
                    <div class="weight-item">
                        <div class="weight-label">PBR</div>
                        <input type="number" class="weight-input" id="weight-pbr" value="30" min="0" max="100">
                        <span class="form-hint">%</span>
                    </div>
                    <div class="weight-item">
                        <div class="weight-label">PSR</div>
                        <input type="number" class="weight-input" id="weight-psr" value="0" min="0" max="100">
                        <span class="form-hint">%</span>
                    </div>
                    <div class="weight-item">
                        <div class="weight-label">EV/EBITDA</div>
                        <input type="number" class="weight-input" id="weight-ev-ebitda" value="30" min="0" max="100">
                        <span class="form-hint">%</span>
                    </div>
                    <div class="weight-item">
                        <div class="weight-label">EV/Sales</div>
                        <input type="number" class="weight-input" id="weight-ev-sales" value="0" min="0" max="100">
                        <span class="form-hint">%</span>
                    </div>
                </div>
                <div class="weight-total">
                    ê°€ì¤‘ì¹˜ í•©ê³„: <span id="weight-total">100</span>% (100%ê°€ ë˜ì–´ì•¼ í•©ë‹ˆë‹¤)
                </div>
            </div>
        </section>

        <!-- CALCULATE -->
        <button class="btn-calculate" onclick="calculateValuation()">ê¸°ì—…ê°€ì¹˜ ì‚°ì •í•˜ê¸°</button>

        <!-- RESULT -->
        <section class="result-section" id="result-section" style="display: none;">
            <h2 class="result-title">
                <span>&#127919;</span>
                ìƒëŒ€ê°€ì¹˜ í‰ê°€ ê²°ê³¼
            </h2>
            <div class="result-grid">
                <div class="result-card">
                    <div class="result-label">PER ê¸°ì¤€ ì£¼ë‹¹ê°€ì¹˜</div>
                    <div class="result-value" id="result-per-value">-</div>
                    <div class="result-unit">ì›</div>
                </div>
                <div class="result-card">
                    <div class="result-label">PBR ê¸°ì¤€ ì£¼ë‹¹ê°€ì¹˜</div>
                    <div class="result-value" id="result-pbr-value">-</div>
                    <div class="result-unit">ì›</div>
                </div>
                <div class="result-card">
                    <div class="result-label">PSR ê¸°ì¤€ ì£¼ë‹¹ê°€ì¹˜</div>
                    <div class="result-value" id="result-psr-value">-</div>
                    <div class="result-unit">ì›</div>
                </div>
                <div class="result-card">
                    <div class="result-label">EV/EBITDA ê¸°ì¤€ ì£¼ë‹¹ê°€ì¹˜</div>
                    <div class="result-value" id="result-ev-ebitda-value">-</div>
                    <div class="result-unit">ì›</div>
                </div>
                <div class="result-card">
                    <div class="result-label">EV/Sales ê¸°ì¤€ ì£¼ë‹¹ê°€ì¹˜</div>
                    <div class="result-value" id="result-ev-sales-value">-</div>
                    <div class="result-unit">ì›</div>
                </div>
                <div class="result-card">
                    <div class="result-label">ì‹œê°€ì´ì•¡ (ê°€ì¤‘í‰ê· )</div>
                    <div class="result-value" id="result-market-cap">-</div>
                    <div class="result-unit">ë°±ë§Œì›</div>
                </div>
            </div>
            <div class="result-final">
                <div class="result-label">ê°€ì¤‘í‰ê·  ì£¼ë‹¹ê°€ì¹˜</div>
                <div class="result-value" id="result-final-value">-</div>
                <div class="result-unit">ì›</div>
            </div>
        </section>
    </main>

    <!-- FOOTER -->
    <footer>
        <div class="footer-content">
            <div class="footer-logo">ValueLink</div>
            <div class="footer-text">Â© 2026 ValueLink. All rights reserved.</div>
        </div>
    </footer>

    <script>
        // Add company row
        function addCompanyRow() {
            const tbody = document.getElementById('peer-tbody');
            const newRow = document.createElement('tr');
            newRow.innerHTML = `
                <td class="company-name"><input type="text" placeholder="ê¸°ì—…ëª…" style="text-align:left;"></td>
                <td><input type="text" placeholder="0"></td>
                <td><input type="text" placeholder="0.0"></td>
                <td><input type="text" placeholder="0.0"></td>
                <td><input type="text" placeholder="0.0"></td>
                <td><input type="text" placeholder="0.0"></td>
                <td><input type="text" placeholder="0.0"></td>
                <td><button class="btn-remove" onclick="removeRow(this)">ì‚­ì œ</button></td>
            `;
            tbody.appendChild(newRow);
            addInputListeners();
        }

        // Remove row
        function removeRow(btn) {
            const tbody = document.getElementById('peer-tbody');
            if (tbody.rows.length > 1) {
                btn.closest('tr').remove();
                calculateAverages();
            }
        }

        // Toggle multiple selection
        function toggleMultiple(card) {
            const checkbox = card.querySelector('input[type="checkbox"]');
            checkbox.checked = !checkbox.checked;
            card.classList.toggle('selected', checkbox.checked);
            updateWeights();
        }

        // Update weights based on selection
        function updateWeights() {
            const weightInputs = [
                { id: 'weight-per', checkId: 'check-per' },
                { id: 'weight-pbr', checkId: 'check-pbr' },
                { id: 'weight-psr', checkId: 'check-psr' },
                { id: 'weight-ev-ebitda', checkId: 'check-ev-ebitda' },
                { id: 'weight-ev-sales', checkId: 'check-ev-sales' }
            ];

            weightInputs.forEach(item => {
                const checkbox = document.getElementById(item.checkId);
                const input = document.getElementById(item.id);
                input.disabled = !checkbox.checked;
                if (!checkbox.checked) {
                    input.value = 0;
                }
            });

            calculateWeightTotal();
        }

        // Calculate weight total
        function calculateWeightTotal() {
            const weights = [
                parseFloat(document.getElementById('weight-per').value) || 0,
                parseFloat(document.getElementById('weight-pbr').value) || 0,
                parseFloat(document.getElementById('weight-psr').value) || 0,
                parseFloat(document.getElementById('weight-ev-ebitda').value) || 0,
                parseFloat(document.getElementById('weight-ev-sales').value) || 0
            ];
            const total = weights.reduce((a, b) => a + b, 0);
            document.getElementById('weight-total').textContent = total;
            document.getElementById('weight-total').style.color = total === 100 ? '#10B981' : '#EF4444';
        }

        // Calculate averages
        function calculateAverages() {
            const tbody = document.getElementById('peer-tbody');
            const rows = tbody.rows;

            let totals = { marketcap: 0, per: 0, pbr: 0, psr: 0, evEbitda: 0, evSales: 0 };
            let counts = { marketcap: 0, per: 0, pbr: 0, psr: 0, evEbitda: 0, evSales: 0 };

            for (let row of rows) {
                const inputs = row.querySelectorAll('input');
                const values = Array.from(inputs).slice(1, 7).map(input => parseFloat(input.value.replace(/,/g, '')) || 0);

                if (values[0] > 0) { totals.marketcap += values[0]; counts.marketcap++; }
                if (values[1] > 0) { totals.per += values[1]; counts.per++; }
                if (values[2] > 0) { totals.pbr += values[2]; counts.pbr++; }
                if (values[3] > 0) { totals.psr += values[3]; counts.psr++; }
                if (values[4] > 0) { totals.evEbitda += values[4]; counts.evEbitda++; }
                if (values[5] > 0) { totals.evSales += values[5]; counts.evSales++; }
            }

            const avgPer = counts.per > 0 ? (totals.per / counts.per).toFixed(1) : '-';
            const avgPbr = counts.pbr > 0 ? (totals.pbr / counts.pbr).toFixed(1) : '-';
            const avgPsr = counts.psr > 0 ? (totals.psr / counts.psr).toFixed(1) : '-';
            const avgEvEbitda = counts.evEbitda > 0 ? (totals.evEbitda / counts.evEbitda).toFixed(1) : '-';
            const avgEvSales = counts.evSales > 0 ? (totals.evSales / counts.evSales).toFixed(1) : '-';
            const avgMarketcap = counts.marketcap > 0 ? formatNumber(Math.round(totals.marketcap / counts.marketcap)) : '-';

            document.getElementById('avg-marketcap').textContent = avgMarketcap;
            document.getElementById('avg-per').textContent = avgPer;
            document.getElementById('avg-pbr').textContent = avgPbr;
            document.getElementById('avg-psr').textContent = avgPsr;
            document.getElementById('avg-ev-ebitda').textContent = avgEvEbitda;
            document.getElementById('avg-ev-sales').textContent = avgEvSales;

            // Update display values
            document.getElementById('display-per').textContent = avgPer !== '-' ? avgPer + 'x' : '-';
            document.getElementById('display-pbr').textContent = avgPbr !== '-' ? avgPbr + 'x' : '-';
            document.getElementById('display-psr').textContent = avgPsr !== '-' ? avgPsr + 'x' : '-';
            document.getElementById('display-ev-ebitda').textContent = avgEvEbitda !== '-' ? avgEvEbitda + 'x' : '-';
            document.getElementById('display-ev-sales').textContent = avgEvSales !== '-' ? avgEvSales + 'x' : '-';
        }

        // Format number with commas
        function formatNumber(num) {
            return num.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ',');
        }

        // Parse number (remove commas)
        function parseNumber(str) {
            return parseFloat(str.replace(/,/g, '')) || 0;
        }

        // Calculate valuation
        function calculateValuation() {
            // Get target company data
            const shares = parseNumber(document.getElementById('shares-outstanding').value);
            const netIncome = parseNumber(document.getElementById('net-income').value);
            const equity = parseNumber(document.getElementById('equity').value);
            const revenue = parseNumber(document.getElementById('revenue').value);
            const ebitda = parseNumber(document.getElementById('ebitda').value);
            const netDebt = parseNumber(document.getElementById('net-debt').value);

            // Get average multiples
            const avgPer = parseFloat(document.getElementById('avg-per').textContent) || 0;
            const avgPbr = parseFloat(document.getElementById('avg-pbr').textContent) || 0;
            const avgPsr = parseFloat(document.getElementById('avg-psr').textContent) || 0;
            const avgEvEbitda = parseFloat(document.getElementById('avg-ev-ebitda').textContent) || 0;
            const avgEvSales = parseFloat(document.getElementById('avg-ev-sales').textContent) || 0;

            // Get weights
            const weightPer = parseFloat(document.getElementById('weight-per').value) / 100 || 0;
            const weightPbr = parseFloat(document.getElementById('weight-pbr').value) / 100 || 0;
            const weightPsr = parseFloat(document.getElementById('weight-psr').value) / 100 || 0;
            const weightEvEbitda = parseFloat(document.getElementById('weight-ev-ebitda').value) / 100 || 0;
            const weightEvSales = parseFloat(document.getElementById('weight-ev-sales').value) / 100 || 0;

            // Validate
            const weightTotal = weightPer + weightPbr + weightPsr + weightEvEbitda + weightEvSales;
            if (Math.abs(weightTotal - 1) > 0.01) {
                alert('ê°€ì¤‘ì¹˜ í•©ê³„ê°€ 100%ê°€ ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.');
                return;
            }

            if (shares <= 0) {
                alert('ë°œí–‰ì£¼ì‹ìˆ˜ë¥¼ ì…ë ¥í•´ ì£¼ì„¸ìš”.');
                return;
            }

            // Calculate equity values (Market Cap)
            // PER method: Market Cap = Net Income x PER
            const mcPer = netIncome * avgPer;
            const perPerShare = shares > 0 ? Math.round(mcPer * 1000000 / shares) : 0;

            // PBR method: Market Cap = Equity x PBR
            const mcPbr = equity * avgPbr;
            const pbrPerShare = shares > 0 ? Math.round(mcPbr * 1000000 / shares) : 0;

            // PSR method: Market Cap = Revenue x PSR
            const mcPsr = revenue * avgPsr;
            const psrPerShare = shares > 0 ? Math.round(mcPsr * 1000000 / shares) : 0;

            // EV/EBITDA method: EV = EBITDA x Multiple, Market Cap = EV - Net Debt
            const evEbitda = ebitda * avgEvEbitda;
            const mcEvEbitda = evEbitda - netDebt;
            const evEbitdaPerShare = shares > 0 ? Math.round(mcEvEbitda * 1000000 / shares) : 0;

            // EV/Sales method: EV = Revenue x Multiple, Market Cap = EV - Net Debt
            const evSales = revenue * avgEvSales;
            const mcEvSales = evSales - netDebt;
            const evSalesPerShare = shares > 0 ? Math.round(mcEvSales * 1000000 / shares) : 0;

            // Weighted average
            const weightedPerShare =
                perPerShare * weightPer +
                pbrPerShare * weightPbr +
                psrPerShare * weightPsr +
                evEbitdaPerShare * weightEvEbitda +
                evSalesPerShare * weightEvSales;

            const weightedMarketCap =
                mcPer * weightPer +
                mcPbr * weightPbr +
                mcPsr * weightPsr +
                mcEvEbitda * weightEvEbitda +
                mcEvSales * weightEvSales;

            // Display results
            document.getElementById('result-per-value').textContent = avgPer > 0 ? formatNumber(perPerShare) : '-';
            document.getElementById('result-pbr-value').textContent = avgPbr > 0 ? formatNumber(pbrPerShare) : '-';
            document.getElementById('result-psr-value').textContent = avgPsr > 0 ? formatNumber(psrPerShare) : '-';
            document.getElementById('result-ev-ebitda-value').textContent = avgEvEbitda > 0 ? formatNumber(evEbitdaPerShare) : '-';
            document.getElementById('result-ev-sales-value').textContent = avgEvSales > 0 ? formatNumber(evSalesPerShare) : '-';
            document.getElementById('result-market-cap').textContent = formatNumber(Math.round(weightedMarketCap));
            document.getElementById('result-final-value').textContent = formatNumber(Math.round(weightedPerShare));

            document.getElementById('result-section').style.display = 'block';
            document.getElementById('result-section').scrollIntoView({ behavior: 'smooth' });
        }

        // Add input listeners for real-time average calculation
        function addInputListeners() {
            document.querySelectorAll('#peer-tbody input').forEach(input => {
                input.addEventListener('input', calculateAverages);
            });
        }

        // Weight input listeners
        document.querySelectorAll('.weight-input').forEach(input => {
            input.addEventListener('input', calculateWeightTotal);
        });

        // Initialize
        addInputListeners();
        updateWeights();
    </script>
</body>
</html>
